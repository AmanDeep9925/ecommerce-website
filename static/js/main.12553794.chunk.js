(this["webpackJsonpecommerce-app"]=this["webpackJsonpecommerce-app"]||[]).push([[0],{37:function(e,t,a){e.exports=a(53)},42:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(19),i=a.n(n),o=(a(42),a(5)),s=a(6),l=a(8),m=a(7),u=a(21),d=a(14),p=a(2),f=a(3),b=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).calculateTotalCount=function(){var t,a=e.props.cart.items,c=0,r=Object(u.a)(a);try{for(r.s();!(t=r.n()).done;){c+=t.value.qty}}catch(n){r.e(n)}finally{r.f()}return c},e}return Object(s.a)(a,[{key:"render",value:function(){var e,t,a,c=this.props.location.pathname;return"/ecommerce-website/"===c?(e={backgroundColor:"rgb(28, 88, 152)"},t={backgroundColor:"rgb(28, 30, 33)"},a={backgroundColor:"white"}):"/ecommerce-website/add-product"===c?(t={backgroundColor:"rgb(28, 88, 152)"},e={backgroundColor:"rgb(28, 30, 33)"},a={backgroundColor:"white"}):"/ecommerce-website/cart"===c&&(t={backgroundColor:"rgb(28, 30, 33)"},e={backgroundColor:"rgb(28, 30, 33)"},a={backgroundColor:"rgb(28, 88, 152)"}),r.a.createElement("div",{className:"navbar"},r.a.createElement(d.b,{className:"logo-link",to:"/ecommerce-website/"},r.a.createElement("img",{className:"logo",src:"https://image.flaticon.com/icons/svg/579/579427.svg",alt:"Logo"}),r.a.createElement("div",{className:"app-name"},"\xa0 NinjaMart")),r.a.createElement("div",{className:"tabs"},r.a.createElement(d.b,{to:"/ecommerce-website/"},r.a.createElement("button",{style:e,className:"nav-button"},"Products")),r.a.createElement(d.b,{to:"/ecommerce-website/add-product"},r.a.createElement("button",{style:t,className:"nav-button"},"Add Product"))),r.a.createElement(d.b,{className:"cart-icon-link",to:"/ecommerce-website/cart"},r.a.createElement("div",{style:a,className:"cart-icon-container"},r.a.createElement("img",{className:"cart-icon",src:"https://image.flaticon.com/icons/svg/779/779006.svg",alt:"cartIcon"}),r.a.createElement("span",{className:"cart-count"},this.calculateTotalCount()))))}}]),a}(r.a.Component);var v=Object(f.b)((function(e){return{cart:e.cart}}))(b),E=Object(p.e)(v),g=a(18),h=a(27),O=a.n(h),y=a(32);function j(e){return{type:"ADD_PRODUCTS",items:e}}function R(){return function(){var e=Object(y.a)(O.a.mark((function e(t){var a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/arnavdesk/ecommerce-website/db");case 2:return a=e.sent,e.next=5,a.json();case 5:(c=e.sent).products?t(j(c.products)):t(j([]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function C(e){return{type:"ADD_PRODUCT_TO_CART",item:e}}var N=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).saveAfterEdit=function(){var t=e.props,a=t.dispatch,c=t.product,r={};r.title=e.nameRef.current.value,r.description=e.desRef.current.value,r.price=e.priceRef.current.value,r.rating=e.ratingRef.current.value,r.id=c.id,r.img=c.img,a({type:"EDIT_PRODUCT",item:r}),e.setState({editable:!1})},e.cancelEdit=function(){e.setState({editable:!1})},e.startEditing=function(){e.setState({editable:!0})},e.addToCart=function(){(0,e.props.dispatch)(C(e.props.product))},e.state={editable:!1},e.nameRef=r.a.createRef(),e.desRef=r.a.createRef(),e.priceRef=r.a.createRef(),e.ratingRef=r.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.editable,a=this.props,c=a.product,n=a.dispatch;return r.a.createElement("div",{onClick:function(t){"action-button"!==t.target.className&&"action-icons"!==t.target.className&&"edit-text"!==t.target.className&&e.props.history.push("/ecommerce-website/product?id="+c.id)},className:"product-item",id:"item"+c.id},r.a.createElement("div",{className:"left-block-products"},r.a.createElement("img",{className:"product-item-img",src:c.img,alt:"product"})),!t&&r.a.createElement("div",{className:"end-block-products"},r.a.createElement("div",{style:{fontSize:25}},c.title),r.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Rs. ",c.price),r.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Rating : ",c.rating),r.a.createElement("div",null,"Description : ",c.description),r.a.createElement("div",{className:"products-actions"},r.a.createElement("button",{className:"action-button",onClick:this.addToCart},"Add to Cart"),r.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/684/684930.svg",alt:"Edit",onClick:this.startEditing}),r.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/3221/3221897.svg",alt:"Delete",onClick:function(){n({type:"DELETE_PRODUCT",item:c})}}))),t&&r.a.createElement("div",{className:"end-block-products"},r.a.createElement("input",{className:"edit-text",ref:this.nameRef,style:{fontSize:25},defaultValue:c.title}),r.a.createElement("div",null,"Rs.",r.a.createElement("input",{className:"edit-text",ref:this.priceRef,style:{width:"70px",fontSize:18,color:"#777",marginTop:5},defaultValue:c.price})),r.a.createElement("div",null,"Rating :",r.a.createElement("input",{className:"edit-text",ref:this.ratingRef,style:{width:"30px",fontSize:18,color:"#777",marginTop:5},defaultValue:c.rating})),r.a.createElement("div",null,"Description :"," ",r.a.createElement("input",{className:"edit-text",ref:this.desRef,style:{width:"100%"},defaultValue:c.description})),r.a.createElement("div",{className:"products-actions"},r.a.createElement("button",{className:"action-button",onClick:this.cancelEdit},"Cancel"),r.a.createElement("button",{className:"action-button",onClick:this.saveAfterEdit},"Save"))))}}]),a}(r.a.Component);var T=Object(f.b)((function(e){return{products:e.products,cart:e.cart}}))(N),k=Object(p.e)(T),D=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).sortedOff=function(){e.setState({sorted:!1})},e.sortedOn=function(){e.setState({sorted:!0})},e.state={sorted:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e,t=this.state.sorted,a=this.props.products.items,c=Object(g.a)(a);return c.sort((function(e,t){return e.price-t.price})),e=!0===t?c:a,r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"sort-btn"},r.a.createElement("div",{onClick:this.sortedOn},"Sort By Price \xa0"),t&&r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/561/561189.svg",alt:"cross",onClick:this.sortedOff})),e.length>0?e.map((function(e){return r.a.createElement(k,{product:e,key:e.id})})):r.a.createElement("h1",null,"No Products to show"))}}]),a}(r.a.Component);var w=Object(f.b)((function(e){return{products:e.products}}))(D),_=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).addNewProduct=function(){var t=e.props.dispatch,a={};a.title=e.nameRef.current.value,a.description=e.desRef.current.value,a.price=e.priceRef.current.value,a.rating=e.ratingRef.current.value,a.img=e.imageRef.current.value,t({type:"ADD_NEW_PRODUCT",item:a}),e.props.history.push("/ecommerce-website/#item"+(e.props.products.items.length+1))},e.nameRef=r.a.createRef(),e.desRef=r.a.createRef(),e.priceRef=r.a.createRef(),e.ratingRef=r.a.createRef(),e.imageRef=r.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"add-prod-div"},r.a.createElement("h2",null,"Add a Product"),r.a.createElement("div",{className:"form-add-prod"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",id:"name",ref:this.nameRef}),r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",id:"description",ref:this.desRef}),r.a.createElement("label",null,"Price"),r.a.createElement("input",{type:"text",id:"price",ref:this.priceRef}),r.a.createElement("label",null,"Rating"),r.a.createElement("input",{type:"text",id:"rating",ref:this.ratingRef}),r.a.createElement("label",null,"Image Link"),r.a.createElement("input",{type:"text",id:"img",ref:this.imageRef}),r.a.createElement("button",{className:"action-button",onClick:function(){return e.addNewProduct()}},"Add")))}}]),a}(c.Component);var A=Object(f.b)((function(e){return{products:e.products}}))(_),S=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var c;Object(o.a)(this,a),(c=t.call(this,e)).addToCart=function(){(0,c.props.dispatch)(C(c.item))};var r=c.props.products,n=new URLSearchParams(window.location.search).get("id"),i=r.items.findIndex((function(e){return e.id+""===n}));return c.item=r.items[i],c}return Object(s.a)(a,[{key:"render",value:function(){var e=this.item;return r.a.createElement("div",{className:"single-product"},r.a.createElement("div",{className:"upper-block"},r.a.createElement("img",{src:e.img,alt:"product"}),r.a.createElement("div",null,r.a.createElement("div",null,e.title),r.a.createElement("div",null,"Rs. ",e.price),r.a.createElement("div",null,"Rating: ",e.rating))),r.a.createElement("div",{className:"lower-block"},r.a.createElement("div",null,"Description: ",e.description),r.a.createElement("button",{style:{margin:"auto",display:"block",marginTop:"10px"},className:"action-button",onClick:this.addToCart},"Add to Cart")))}}]),a}(c.Component);var P=Object(f.b)((function(e){return{products:e.products}}))(S),x=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.product,c=t.dispatch;return r.a.createElement("div",{onClick:function(t){"action-button"!==t.target.className&&"action-icons"!==t.target.className&&e.props.history.push("/ecommerce-website/product?id="+a.id)},className:"cart-item"},r.a.createElement("div",{className:"left-block"},r.a.createElement("img",{className:"cart-item-img",src:a.img,alt:"product"})),r.a.createElement("div",{className:"right-block"},r.a.createElement("div",{style:{fontSize:25}},a.title),r.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Rs. ",a.price),r.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Qty : ",a.qty)),r.a.createElement("div",{className:"end-block"},r.a.createElement("div",{className:"cart-item-actions"},r.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/929/929409.svg",alt:"Increase",onClick:function(){c({type:"INCREASE_QTY_ITEM_CART",item:a})}}),r.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/753/753340.svg",alt:"Decrease",onClick:function(){c({type:"DECREASE_QTY_ITEM_CART",item:a})}}),r.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/3221/3221897.svg",alt:"Delete",onClick:function(){c({type:"DELETE_ITEM_CART",item:a})}}))))}}]),a}(r.a.Component);var I=Object(f.b)((function(e){return{cart:e.cart}}))(x),U=Object(p.e)(I),L=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"calculateTotal",value:function(e){var t,a=0,c=Object(u.a)(e);try{for(c.s();!(t=c.n()).done;){var r=t.value;a+=r.price*r.qty}}catch(n){c.e(n)}finally{c.f()}return a}},{key:"render",value:function(){var e=this.props.cart.items,t=this.calculateTotal(e);return r.a.createElement("div",{className:"cart"},e.map((function(e){return r.a.createElement(U,{product:e,key:e.id})})),e.length>0?r.a.createElement("div",{style:{marginLeft:"auto"}},"Total Price : ",t):r.a.createElement("h1",null,"Cart Empty!"))}}]),a}(r.a.Component);var q=Object(f.b)((function(e){return{cart:e.cart}}))(L),z=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t=e.props,a=t.dispatch;0===t.products.items.length&&a(R())},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,null,r.a.createElement(E,null),r.a.createElement(p.a,{exact:!0,path:"/ecommerce-website/",render:function(e){return r.a.createElement(w,e)}}),r.a.createElement(p.a,{path:"/ecommerce-website/cart",component:q}),r.a.createElement(p.a,{path:"/ecommerce-website/add-product",component:A}),r.a.createElement(p.a,{path:"/ecommerce-website/product",component:P})))}}]),a}(r.a.Component);var M=Object(f.b)((function(e){return{products:e.products,cart:e.cart}}))(z),Q=a(13),V=a(4),Y=a(33),B=a.n(Y),F=(a(49),a(50),function(e){new B.a({text:e,layout:"bottomRight",theme:"nest",type:"alert",timeout:500}).show()}),J={items:[]};var W={items:[]};var G=Object(Q.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCTS":return Object(V.a)(Object(V.a)({},e),{},{items:t.items});case"ADD_NEW_PRODUCT":return t.item.id=e.items.length+1,F("Product Added"),Object(V.a)(Object(V.a)({},e),{},{items:[].concat(Object(g.a)(e.items),[t.item])});case"EDIT_PRODUCT":var a,c=e.items.filter((function(e,c){return e.id===t.item.id&&(a=c),e.id!==t.item.id}));return-1===a?(F("Item not found"),e):(F("Item edited"),c.splice(a,0,t.item),Object(V.a)(Object(V.a)({},e),{},{items:c}));case"DELETE_PRODUCT":var r=e.items.filter((function(e){return e.id!==t.item.id}));return F("Removed From Listing"),Object(V.a)(Object(V.a)({},e),{},{items:r});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT_TO_CART":case"INCREASE_QTY_ITEM_CART":console.log(e);var a=e.items.findIndex((function(e){return e.id===t.item.id}));if(-1===a)return F("1 Item added to cart"),t.item.qty=1,Object(V.a)(Object(V.a)({},e),{},{items:[].concat(Object(g.a)(e.items),[t.item])});F("Quantity increased by 1");var c=Object(V.a)({},e);return c.items[a].qty++,c;case"DECREASE_QTY_ITEM_CART":var r=e.items.findIndex((function(e){return e.id===t.item.id}));if(-1===r)return e;var n=Object(V.a)({},e);return 1===n.items[r].qty?e:(n.items[r].qty--,F("Qty Decreased by 1"),n);case"DELETE_PRODUCT":case"DELETE_ITEM_CART":var i=e.items.filter((function(e){return e.id!==t.item.id}));return F("Removed From Cart"),Object(V.a)(Object(V.a)({},e),{},{items:i});case"EDIT_PRODUCT":var o=-1,s=e.items.filter((function(e,a){return e.id===t.item.id&&(o=a),e.id!==t.item.id}));return-1===o?e:(t.item.qty=e.items[o].qty,s.splice(o,0,t.item),Object(V.a)(Object(V.a)({},e),{},{items:s}));default:return e}}}),H=a(34),K=a(35),X=a.n(K),Z=a(28),$={key:"root",storage:X.a},ee=Object(Z.a)($,G),te=a(36),ae=function(){var e=Object(Q.d)(ee,Object(Q.a)(H.a));return{store:e,persistor:Object(Z.b)(e)}}();i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te.a,{loading:null,persistor:ae.persistor},r.a.createElement(f.a,{store:ae.store},r.a.createElement(M,null)))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.12553794.chunk.js.map