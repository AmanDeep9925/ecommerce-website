(this["webpackJsonpecommerce-app"]=this["webpackJsonpecommerce-app"]||[]).push([[0],{37:function(e,t,a){e.exports=a(53)},42:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),i=a.n(c),o=(a(42),a(5)),s=a(6),l=a(8),u=a(7),m=a(21),d=a(14),p=a(2),f=a(3),v=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).calculateTotalCount=function(){var t,a=e.props.cart.items,r=0,n=Object(m.a)(a);try{for(n.s();!(t=n.n()).done;){r+=t.value.qty}}catch(c){n.e(c)}finally{n.f()}return r},e}return Object(s.a)(a,[{key:"render",value:function(){var e,t,a,r=this.props.location.pathname;return"/"===r?(e={backgroundColor:"rgb(28, 88, 152)"},t={backgroundColor:"rgb(28, 30, 33)"},a={backgroundColor:"white"}):"/add-product"===r?(t={backgroundColor:"rgb(28, 88, 152)"},e={backgroundColor:"rgb(28, 30, 33)"},a={backgroundColor:"white"}):"/cart"===r&&(t={backgroundColor:"rgb(28, 30, 33)"},e={backgroundColor:"rgb(28, 30, 33)"},a={backgroundColor:"rgb(28, 88, 152)"}),n.a.createElement("div",{className:"navbar"},n.a.createElement(d.b,{className:"logo-link",to:"/"},n.a.createElement("img",{className:"logo",src:"https://image.flaticon.com/icons/svg/579/579427.svg",alt:"Logo"}),n.a.createElement("div",{className:"app-name"},"\xa0 NinjaMart")),n.a.createElement("div",{className:"tabs"},n.a.createElement(d.b,{to:"/"},n.a.createElement("button",{style:e,className:"nav-button"},"Products")),n.a.createElement(d.b,{to:"/add-product"},n.a.createElement("button",{style:t,className:"nav-button"},"Add Product"))),n.a.createElement(d.b,{className:"cart-icon-link",to:"/cart"},n.a.createElement("div",{style:a,className:"cart-icon-container"},n.a.createElement("img",{className:"cart-icon",src:"https://image.flaticon.com/icons/svg/779/779006.svg",alt:"cartIcon"}),n.a.createElement("span",{className:"cart-count"},this.calculateTotalCount()))))}}]),a}(n.a.Component);var b=Object(f.b)((function(e){return{cart:e.cart}}))(v),E=Object(p.e)(b),g=a(18),h=a(27),O=a.n(h),y=a(32);function j(e){return{type:"ADD_PRODUCTS",items:e}}function R(){return function(){var e=Object(y.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/arnavdesk/ecommerce-website/db");case 2:return a=e.sent,e.next=5,a.json();case 5:(r=e.sent).products?t(j(r.products)):t(j([]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function C(e){return{type:"ADD_PRODUCT_TO_CART",item:e}}var N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).saveAfterEdit=function(){var t=e.props,a=t.dispatch,r=t.product,n={};n.title=e.nameRef.current.value,n.description=e.desRef.current.value,n.price=e.priceRef.current.value,n.rating=e.ratingRef.current.value,n.id=r.id,n.img=r.img,a({type:"EDIT_PRODUCT",item:n}),e.setState({editable:!1})},e.cancelEdit=function(){e.setState({editable:!1})},e.startEditing=function(){e.setState({editable:!0})},e.addToCart=function(){(0,e.props.dispatch)(C(e.props.product))},e.state={editable:!1},e.nameRef=n.a.createRef(),e.desRef=n.a.createRef(),e.priceRef=n.a.createRef(),e.ratingRef=n.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.editable,a=this.props,r=a.product,c=a.dispatch;return n.a.createElement("div",{onClick:function(t){"action-button"!==t.target.className&&"action-icons"!==t.target.className&&e.props.history.push("/product?id="+r.id)},className:"product-item",id:"item"+r.id},n.a.createElement("div",{className:"left-block-products"},n.a.createElement("img",{className:"product-item-img",src:r.img,alt:"product"})),!t&&n.a.createElement("div",{className:"end-block-products"},n.a.createElement("div",{style:{fontSize:25}},r.title),n.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Rs. ",r.price),n.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Rating : ",r.rating),n.a.createElement("div",null,"Description : ",r.description),n.a.createElement("div",{className:"products-actions"},n.a.createElement("button",{className:"action-button",onClick:this.addToCart},"Add to Cart"),n.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/684/684930.svg",alt:"Edit",onClick:this.startEditing}),n.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/3221/3221897.svg",alt:"Delete",onClick:function(){c({type:"DELETE_PRODUCT",item:r})}}))),t&&n.a.createElement("div",{className:"end-block-products"},n.a.createElement("input",{ref:this.nameRef,style:{fontSize:25},defaultValue:r.title}),n.a.createElement("div",null,"Rs.",n.a.createElement("input",{ref:this.priceRef,style:{width:"70px",fontSize:18,color:"#777",marginTop:5},defaultValue:r.price})),n.a.createElement("div",null,"Rating :",n.a.createElement("input",{ref:this.ratingRef,style:{width:"30px",fontSize:18,color:"#777",marginTop:5},defaultValue:r.rating})),n.a.createElement("div",null,"Description :"," ",n.a.createElement("input",{ref:this.desRef,style:{width:"100%"},defaultValue:r.description})),n.a.createElement("div",{className:"products-actions"},n.a.createElement("button",{className:"action-button",onClick:this.cancelEdit},"Cancel"),n.a.createElement("button",{className:"action-button",onClick:this.saveAfterEdit},"Save"))))}}]),a}(n.a.Component);var T=Object(f.b)((function(e){return{products:e.products,cart:e.cart}}))(N),k=Object(p.e)(T),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).sortedOff=function(){e.setState({sorted:!1})},e.sortedOn=function(){e.setState({sorted:!0})},e.state={sorted:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e,t=this.state.sorted,a=this.props.products.items,r=Object(g.a)(a);return r.sort((function(e,t){return e.price-t.price})),e=!0===t?r:a,n.a.createElement("div",{className:"products"},n.a.createElement("div",{className:"sort-btn"},n.a.createElement("div",{onClick:this.sortedOn},"Sort By Price \xa0"),t&&n.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/561/561189.svg",alt:"cross",onClick:this.sortedOff})),e.length>0?e.map((function(e){return n.a.createElement(k,{product:e,key:e.id})})):n.a.createElement("h1",null,"No Products to show"))}}]),a}(n.a.Component);var _=Object(f.b)((function(e){return{products:e.products}}))(D),A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).addNewProduct=function(){var t=e.props.dispatch,a={};a.title=e.nameRef.current.value,a.description=e.desRef.current.value,a.price=e.priceRef.current.value,a.rating=e.ratingRef.current.value,a.img=e.imageRef.current.value,t({type:"ADD_NEW_PRODUCT",item:a}),e.props.history.push("/#item"+(e.props.products.items.length+1))},e.nameRef=n.a.createRef(),e.desRef=n.a.createRef(),e.priceRef=n.a.createRef(),e.ratingRef=n.a.createRef(),e.imageRef=n.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"add-prod-div"},n.a.createElement("h2",null,"Add a Product"),n.a.createElement("div",{className:"form-add-prod"},n.a.createElement("label",null,"Name"),n.a.createElement("input",{type:"text",id:"name",ref:this.nameRef}),n.a.createElement("label",null,"Description"),n.a.createElement("input",{type:"text",id:"description",ref:this.desRef}),n.a.createElement("label",null,"Price"),n.a.createElement("input",{type:"text",id:"price",ref:this.priceRef}),n.a.createElement("label",null,"Rating"),n.a.createElement("input",{type:"text",id:"rating",ref:this.ratingRef}),n.a.createElement("label",null,"Image Link"),n.a.createElement("input",{type:"text",id:"img",ref:this.imageRef}),n.a.createElement("button",{className:"action-button",onClick:function(){return e.addNewProduct()}},"Add")))}}]),a}(r.Component);var S=Object(f.b)((function(e){return{products:e.products}}))(A),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;Object(o.a)(this,a),(r=t.call(this,e)).addToCart=function(){(0,r.props.dispatch)(C(r.item))};var n=r.props.products,c=new URLSearchParams(window.location.search).get("id"),i=n.items.findIndex((function(e){return e.id+""===c}));return r.item=n.items[i],r}return Object(s.a)(a,[{key:"render",value:function(){var e=this.item;return n.a.createElement("div",{className:"single-product"},n.a.createElement("div",{className:"upper-block"},n.a.createElement("img",{src:e.img,alt:"product"}),n.a.createElement("div",null,n.a.createElement("div",null,e.title),n.a.createElement("div",null,"Rs. ",e.price),n.a.createElement("div",null,"Rating: ",e.rating))),n.a.createElement("div",{className:"lower-block"},n.a.createElement("div",null,"Description: ",e.description),n.a.createElement("button",{style:{margin:"auto",display:"block",marginTop:"10px"},className:"action-button",onClick:this.addToCart},"Add to Cart")))}}]),a}(r.Component);var P=Object(f.b)((function(e){return{products:e.products}}))(w),I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.product,r=t.dispatch;return n.a.createElement("div",{onClick:function(t){"action-button"!==t.target.className&&"action-icons"!==t.target.className&&e.props.history.push("/product?id="+a.id)},className:"cart-item"},n.a.createElement("div",{className:"left-block"},n.a.createElement("img",{className:"cart-item-img",src:a.img,alt:"product"})),n.a.createElement("div",{className:"right-block"},n.a.createElement("div",{style:{fontSize:25}},a.title),n.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Rs. ",a.price),n.a.createElement("div",{style:{fontSize:18,color:"#777",marginTop:5}},"Qty : ",a.qty)),n.a.createElement("div",{className:"end-block"},n.a.createElement("div",{className:"cart-item-actions"},n.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/929/929409.svg",alt:"Increase",onClick:function(){r({type:"INCREASE_QTY_ITEM_CART",item:a})}}),n.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/753/753340.svg",alt:"Decrease",onClick:function(){r({type:"DECREASE_QTY_ITEM_CART",item:a})}}),n.a.createElement("img",{className:"action-icons",src:"https://image.flaticon.com/icons/svg/3221/3221897.svg",alt:"Delete",onClick:function(){r({type:"DELETE_ITEM_CART",item:a})}}))))}}]),a}(n.a.Component);var x=Object(f.b)((function(e){return{cart:e.cart}}))(I),U=Object(p.e)(x),L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"calculateTotal",value:function(e){var t,a=0,r=Object(m.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;a+=n.price*n.qty}}catch(c){r.e(c)}finally{r.f()}return a}},{key:"render",value:function(){var e=this.props.cart.items,t=this.calculateTotal(e);return n.a.createElement("div",{className:"cart"},e.map((function(e){return n.a.createElement(U,{product:e,key:e.id})})),e.length>0?n.a.createElement("div",{style:{marginLeft:"auto"}},"Total Price : ",t):n.a.createElement("h1",null,"Cart Empty!"))}}]),a}(n.a.Component);var q=Object(f.b)((function(e){return{cart:e.cart}}))(L),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){var t=e.props,a=t.dispatch;0===t.products.items.length&&a(R())},e}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(d.a,null,n.a.createElement(E,null),n.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return n.a.createElement(_,e)}}),n.a.createElement(p.a,{path:"/cart",component:q}),n.a.createElement(p.a,{path:"/add-product",component:S}),n.a.createElement(p.a,{path:"/product",component:P})))}}]),a}(n.a.Component);var M=Object(f.b)((function(e){return{products:e.products,cart:e.cart}}))(z),Q=a(13),V=a(4),Y=a(33),B=a.n(Y),F=(a(49),a(50),function(e){new B.a({text:e,layout:"bottomRight",theme:"nest",type:"alert",timeout:500}).show()}),J={items:[]};var W={items:[]};var G=Object(Q.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCTS":return Object(V.a)(Object(V.a)({},e),{},{items:t.items});case"ADD_NEW_PRODUCT":return t.item.id=e.items.length+1,F("Product Added"),Object(V.a)(Object(V.a)({},e),{},{items:[].concat(Object(g.a)(e.items),[t.item])});case"EDIT_PRODUCT":var a,r=e.items.filter((function(e,r){return e.id===t.item.id&&(a=r),e.id!==t.item.id}));return-1===a?(F("Item not found"),e):(F("Item edited"),r.splice(a,0,t.item),Object(V.a)(Object(V.a)({},e),{},{items:r}));case"DELETE_PRODUCT":var n=e.items.filter((function(e){return e.id!==t.item.id}));return F("Removed From Listing"),Object(V.a)(Object(V.a)({},e),{},{items:n});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT_TO_CART":case"INCREASE_QTY_ITEM_CART":console.log(e);var a=e.items.findIndex((function(e){return e.id===t.item.id}));if(-1===a)return F("1 Item added to cart"),t.item.qty=1,Object(V.a)(Object(V.a)({},e),{},{items:[].concat(Object(g.a)(e.items),[t.item])});F("Quantity increased by 1");var r=Object(V.a)({},e);return r.items[a].qty++,r;case"DECREASE_QTY_ITEM_CART":var n=e.items.findIndex((function(e){return e.id===t.item.id}));if(-1===n)return e;var c=Object(V.a)({},e);return 1===c.items[n].qty?e:(c.items[n].qty--,F("Qty Decreased by 1"),c);case"DELETE_PRODUCT":case"DELETE_ITEM_CART":var i=e.items.filter((function(e){return e.id!==t.item.id}));return F("Removed From Cart"),Object(V.a)(Object(V.a)({},e),{},{items:i});case"EDIT_PRODUCT":var o=-1,s=e.items.filter((function(e,a){return e.id===t.item.id&&(o=a),e.id!==t.item.id}));return-1===o?e:(t.item.qty=e.items[o].qty,s.splice(o,0,t.item),Object(V.a)(Object(V.a)({},e),{},{items:s}));default:return e}}}),H=a(34),K=a(35),X=a.n(K),Z=a(28),$={key:"root",storage:X.a},ee=Object(Z.a)($,G),te=a(36),ae=function(){var e=Object(Q.d)(ee,Object(Q.a)(H.a));return{store:e,persistor:Object(Z.b)(e)}}();i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(te.a,{loading:null,persistor:ae.persistor},n.a.createElement(f.a,{store:ae.store},n.a.createElement(M,null)))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.b9a024be.chunk.js.map